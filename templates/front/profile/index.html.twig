<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naja7ni - Profil</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ asset('assets/css/main.css') }}">
</head>

<body class="bg-background text-foreground font-sans">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <!-- Sidebar -->
        {% include 'front/partials/_sidebar.html.twig' %}

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Navbar -->
            <!-- Top Navbar -->
            {% include 'front/partials/_navbar.html.twig' %}

            <!-- Content Area -->
            <div id="content" class="flex-1 overflow-y-auto bg-muted/30">
                <div class="p-8 min-h-full">
                    <div class="max-w-4xl mx-auto space-y-8">
                        <div class="mb-8">
                            <h1 class="text-3xl font-bold mb-2">Mon Profil</h1>
                            <p class="text-muted-foreground">Gérez vos informations personnelles</p>
                        </div>

                        <!-- Profile Card -->
                        {{ form_start(form) }}
                        <div class="bg-white rounded-2xl shadow-sm border border-border overflow-hidden mb-6">
                            <div class="h-32 bg-gradient-to-r from-primary to-secondary relative">
                                {% if user.coverPicture %}
                                    <img src="{{ asset('uploads/profiles/' ~ user.coverPicture) }}" alt="Cover" class="w-full h-full object-cover absolute inset-0">
                                {% endif %}
                                <div class="absolute top-4 right-4">
                                     <label for="{{ form.coverPicture.vars.id }}" class="cursor-pointer bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg hover:bg-white/30 transition-colors flex items-center gap-2">
                                        <i data-lucide="camera" class="w-4 h-4"></i>
                                        <span class="text-sm font-medium">Modifier la couverture</span>
                                        {{ form_widget(form.coverPicture, {'attr': {'class': 'hidden'}}) }}
                                    </label>
                                </div>
                            </div>

                            <div class="p-8 -mt-16 relative">
                                <div class="flex items-start gap-6">
                                    <div class="relative">
                                        <div class="w-32 h-32 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white text-4xl font-bold border-4 border-white shadow-lg overflow-hidden">
                                            {% if user.profilePicture %}
                                                <img src="{{ asset('uploads/profiles/' ~ user.profilePicture) }}" alt="Profile" class="w-full h-full object-cover">
                                            {% else %}
                                                <img src="{{ user.gravatarUrl(128) }}" alt="Profile" class="w-full h-full object-cover">
                                            {% endif %}
                                        </div>
                                        <label for="{{ form.profilePicture.vars.id }}" class="absolute bottom-0 right-0 bg-white p-2.5 rounded-full shadow-md hover:shadow-lg transition-all hover:scale-105 border border-border cursor-pointer">
                                            <i data-lucide="camera" class="w-4 h-4 text-foreground"></i>
                                             {{ form_widget(form.profilePicture, {'attr': {'class': 'hidden'}}) }}
                                        </label>
                                    </div>

                                    <div class="flex-1 mt-16">
                                        <div class="flex items-start justify-between">
                                            <div>
                                                <h2 class="text-2xl font-bold mb-1">{{ user.firstName }} {{ user.lastName }}</h2>
                                                <p class="text-muted-foreground flex items-center gap-2">
                                                    {{ user.role }}
                                                </p>
                                            </div>
                                            <button type="submit" class="bg-primary text-white px-5 py-2.5 rounded-xl hover:bg-primary/90 transition-all hover:shadow-md flex items-center gap-2">
                                                <i data-lucide="save" class="w-4 h-4"></i>
                                                Enregistrer
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Information Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-white rounded-2xl shadow-sm border border-border p-6">
                                <h3 class="text-lg font-bold mb-6 flex items-center gap-2">
                                    <div class="p-2 bg-primary/10 rounded-lg">
                                        <i data-lucide="user" class="w-5 h-5 text-primary"></i>
                                    </div>
                                    Informations Personnelles
                                </h3>
                                <div class="space-y-4">
                                    <div class="p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        {{ form_label(form.firstName, 'Prénom', {'label_attr': {'class': 'text-sm font-medium text-muted-foreground block mb-1'}}) }}
                                        {{ form_widget(form.firstName, {'attr': {'class': 'w-full px-4 py-2 bg-input-background rounded-lg border border-transparent focus:bg-white focus:border-primary focus:outline-none transition-all'}}) }}
                                        {{ form_errors(form.firstName) }}
                                    </div>
                                    <div class="p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        {{ form_label(form.lastName, 'Nom', {'label_attr': {'class': 'text-sm font-medium text-muted-foreground block mb-1'}}) }}
                                        {{ form_widget(form.lastName, {'attr': {'class': 'w-full px-4 py-2 bg-input-background rounded-lg border border-transparent focus:bg-white focus:border-primary focus:outline-none transition-all'}}) }}
                                        {{ form_errors(form.lastName) }}
                                    </div>
                                    <div class="p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        <label class="text-sm font-medium text-muted-foreground block mb-1">Email</label>
                                        <p class="font-medium text-gray-500">{{ user.email }}</p>
                                    </div>
                                    <div class="p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        <label class="text-sm font-medium text-muted-foreground block mb-1">Role</label>
                                        <p class="font-medium text-gray-500">{{ user.role }}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-2xl shadow-sm border border-border p-6">
                                <h3 class="text-lg font-bold mb-6 flex items-center gap-2">
                                    <div class="p-2 bg-secondary/10 rounded-lg">
                                        <i data-lucide="mail" class="w-5 h-5 text-secondary"></i>
                                    </div>
                                    Coordonnées
                                </h3>
                                <div class="space-y-4">
                                    <div
                                        class="flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        <div class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                                            <i data-lucide="mail" class="w-5 h-5 text-muted-foreground"></i>
                                        </div>
                                        <div>
                                            <label class="text-sm font-medium text-muted-foreground block">Email</label>
                                            <p class="font-medium">{{ app.user.email }}</p>
                                        </div>
                                    </div>
                                    <!-- 
                                    <div
                                        class="flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors">
                                        <div class="w-10 h-10 rounded-full bg-muted flex items-center justify-center">
                                            <i data-lucide="phone" class="w-5 h-5 text-muted-foreground"></i>
                                        </div>
                                        <div>
                                            <label
                                                class="text-sm font-medium text-muted-foreground block">Téléphone</label>
                                            <p class="font-medium">+212 6 12 34 56 78</p>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Application Scripts -->
    <script src="{{ asset('assets/js/main.js') }}"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>
